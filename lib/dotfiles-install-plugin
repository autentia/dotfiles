#!/usr/bin/env bash

# Summary: Installs a plugin

source "${DOTFILES_DIR}/lib/helpers"

PLUGIN=$3

PLUGIN_DIR="$DOTFILES_DIR/plugins"


if [ "$#" -ne 3 ]
then
  echo "Usage: dotfiles-install-plugin <PLUGIN>"
  exit 1
fi

debug_msg "Install $PLUGIN"
git clone "git@gitlab.com:autentia/internal/dotfiles/$PLUGIN" "$PLUGIN_DIR/$PLUGIN" -v
cd "$PLUGIN_DIR/$PLUGIN" && make setup
cd -

if [[ $? != 0 ]]
then
    fail_msg "Failed to Install $PLUGIN"
fi

